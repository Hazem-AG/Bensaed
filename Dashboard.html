<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> تقرير شامل لحملة الأضاحي 2025م</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }
        @media (min-width: 640px) {
            .chart-container {
                height: 350px;
            }
        }
        @media (min-width: 1024px) {
            .chart-container {
                height: 400px;
            }
        }
        .main-header {
            background: linear-gradient(135deg, #0ea9b6 0%, #0891b2 100%);
        }
        .section-title {
            font-size: 1.5rem;
            font-weight: 900;
            color: #1e293b;
        }
        @media (min-width: 768px) {
            .section-title {
                font-size: 2.25rem;
            }
        }
        .section-subtitle {
            font-size: 1rem;
            color: #475569;
            max-width: 700px;
        }
        @media (min-width: 768px) {
            .section-subtitle {
                font-size: 1.125rem;
            }
        }
        .stat-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border-bottom: 4px solid #0ea9b6;
        }
        @media (min-width: 640px) {
            .stat-card {
                padding: 1.5rem;
            }
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .nav-button {
            background-color: rgba(255, 255, 255, 0.2);
            transition: background-color 0.3s;
            font-size: 0.75rem;
            padding: 0.5rem 0.75rem;
        }
        @media (min-width: 640px) {
            .nav-button {
                font-size: 0.875rem;
                padding: 0.5rem 1rem;
            }
        }
        .nav-button:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }
        .flow-arrow {
            font-size: 1.5rem;
            line-height: 1;
            color: #EB6841;
        }
        @media (min-width: 768px) {
            .flow-arrow {
                font-size: 2.5rem;
            }
        }
        th, td {
            padding: 0.5rem;
            text-align: right;
            border-bottom: 1px solid #edf2f7;
            color: #2D3748;
            font-size: 0.75rem;
        }
        @media (min-width: 640px) {
            th, td {
                font-size: 0.875rem;
            }
        }
        th {
            border-bottom: 2px solid #e2e8f0;
            font-weight: 600;
            color: #4A5568;
            background-color: #F8F9FA;
            white-space: nowrap;
            cursor: pointer;
        }
         th:hover {
            background-color: #e2e8f0;
        }
        @media (min-width: 640px) {
            th, td {
                padding: 0.75rem;
            }
        }
        @media (min-width: 768px) {
            th, td {
                padding: 0.75rem 1rem;
                font-size: 1rem;
            }
        }
        tr:hover {
            background-color: #f7fafc;
        }
        .asc::after {
            content: " \2191"; /* Up arrow */
        }
        .desc::after {
            content: " \2193"; /* Down arrow */
        }
        .logo-container {
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        @media (min-width: 768px) {
            .logo-container {
                margin-top: 2.5rem;
                margin-bottom: 1.5rem;
            }
        }
        .header-title {
            font-size: 1.75rem;
            line-height: 2.25rem;
        }
        @media (min-width: 768px) {
            .header-title {
                font-size: 3rem;
                line-height: 1;
            }
        }
        .header-subtitle {
            font-size: 1rem;
            padding: 0 1rem;
        }
        @media (min-width: 768px) {
            .header-subtitle {
                font-size: 1.25rem;
                padding: 0;
            }
        }
        .donor-card {
            margin-bottom: 1rem;
        }
        @media (min-width: 768px) {
            .donor-card {
                margin-bottom: 0;
            }
        }
        .distribution-flow {
            flex-direction: column;
            margin-bottom: 1rem;
        }
        @media (min-width: 768px) {
            .distribution-flow {
                flex-direction: row;
                margin-bottom: 0;
            }
        }
    </style>
</head>
<body class="antialiased">

    <nav class="bg-cyan-700/80 backdrop-blur-sm sticky top-0 z-50 shadow-md">
        <div class="container mx-auto px-2 sm:px-4 py-2">
            <div class="flex items-center justify-center flex-wrap gap-2 sm:gap-4">
                <a href="#summary" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">الملخص</a>
                <a href="#sacrifices" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">الأضاحي</a>
                <a href="#distribution" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">التوزيع</a>
                <a href="#sources" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">المصادر</a>
                <a href="#donors" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">الصكوك</a>
                <a href="#in-kind" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">تبرعات عينية</a>
                <a href="#expenses" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">التكاليف</a>
                <a href="#financial" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">المالية</a>
                <a href="#analysis" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">التحليل</a>
            </div>
        </div>
    </nav>

    <div class="Bensaed" style="display: flex; justify-content: center; align-items: center; margin-top: 10px; margin-bottom: 20px;">
        <img src="Bensaed.png" alt="مؤسسة بنساعد" style="width: 300px; max-width: 90%;"> 
    </div>

    <header class="main-header text-white pt-8 pb-12 sm:pt-12 sm:pb-16 text-center">
        <div class="container mx-auto px-4">
            <h1 class="header-title font-black drop-shadow-lg">تقرير  حملة الأضاحي المبارك 2025</h1>
            <p class="mt-2 sm:mt-4 header-subtitle mx-auto drop-shadow-md">تقرير مفصل لحملة الاضاحي لسنه 2025 من مؤسسه بنساعد للاعمال الخيريه</p>
        </div>
    </header>

    <main class="container mx-auto px-3 sm:px-4 md:px-6 -mt-6 sm:-mt-10">

        <section id="summary" class="mb-12 sm:mb-16">
            <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6">
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">🐑</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">5</p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">أضاحي منفذة</h3>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">⚖️</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">797<span class="text-xl sm:text-2xl">كجم</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">إجمالي صافي اللحوم </h3>
                    <p class="text-xs text-slate-600 mt-1"> 	إجمالي اللحوم 797 كجم (421 توزيع مباشر، 128.5 إطعام، 247.5 صكوك). 	</p>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">💰</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">255<span class="text-lg sm:text-xl">ألف</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">إجمالي التبرعات (جنيه)</h3>
                    <p class="text-xs text-slate-600 mt-1"> 	255 ألف نقداً بالإضافة إلى تبرعات عينية </p>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">💸</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">261.1<span class="text-lg sm:text-xl">ألف</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">إجمالي المنصرف (جنيه)</h3>
                    <p class="text-xs text-slate-600 mt-1">يشمل تكلفة الأضاحي والتكاليف التشغيلية</p>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">📊</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">39.9<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة التحويل للحم</h3>
                     <p class="text-xs text-slate-600 mt-1">من الوزن القائم للأضاحي (1398 كجم)</p>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">📦</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">52.8<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة لحوم التوزيع</h3>
                     <p class="text-xs text-slate-600 mt-1">من إجمالي اللحوم المتاحة (797 كجم)</p>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">♻️</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">2.4<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة فرق الوزن</h3>
                     <p class="text-xs text-slate-600 mt-1">يمثل 19 كجم من إجمالي اللحوم</p>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">📝</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">31.1<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة الصكوك</h3>
                    <p class="text-xs text-slate-600 mt-1">من صافي لحوم الأضاحي (247.5 كجم)</p>
                </div>
            </div>
        </section>

        <section id="sacrifices" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title">جدول تفصيلي للأضاحي</h2>
                <p class="section-subtitle mx-auto mt-2">يعرض هذا الجدول تفاصيل كل أضحية مع إمكانية الفرز حسب العمود، ويتبعه رسم بياني يوضح القيمة الإجمالية لكل نوع.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg overflow-x-auto">
                <input type="text" id="sacrificeSearch" placeholder="ابحث حسب نوع الأضحية..." class="p-2 border border-gray-300 rounded-md w-full mb-4 text-sm">
                <div class="overflow-x-auto">
                    <table class="min-w-full leading-normal" id="sacrificesTable">
                        <thead>
                            <tr>
                                <th data-column="0">رقم</th>
                                <th data-column="1">نوع الأضحية</th>
                                <th data-column="2">الوزن قبل الذبح</th>
                                <th data-column="3">صافي اللحم</th>
                                <th data-column="4">صافي اللحم للتوزيع</th>
                                <th data-column="5">سعر الكيلو</th>
                                <th data-column="6">السعر الكلي</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>اضحية رقم (1)</td><td>بقري</td><td>405 كجم</td><td>150 كجم</td><td>50 كجم</td><td>177.5 ج.م</td><td>71,900 ج.م</td></tr>
                            <tr><td>اضحية رقم (2)</td><td>جموسي</td><td>460 كجم</td><td>190 كجم</td><td>150 كجم</td><td>154.0 ج.م</td><td>70,500.0 ج.م</td></tr>
                            <tr><td>اضحية رقم (3)</td><td>بقري</td><td>410 كجم</td><td>161 كجم</td><td>54 كجم</td><td>185.0 ج.م</td><td>76,300.0 ج.م</td></tr>
                            <tr><td>اضحية رقم (4)</td><td>ضاني</td><td>59 كجم</td><td>28 كجم</td><td>28 كجم</td><td>222.0 ج.م</td><td>13,120.0 ج.م</td></tr>
                            <tr><td>اضحية رقم (5)</td><td>ضاني</td><td>64 كجم</td><td>31 كجم</td><td>31 كجم</td><td>222.0 ج.م</td><td>14,230.0 ج.م</td></tr>
                        </tbody>
                        <thead>
                            <tr>
                                <th style="cursor: default;">5 اضاحي</th>
                                <th style="cursor: default;"> 	</th>
                                <th style="cursor: default;"> 1398 كيلو</th>
                                <th style="cursor: default;">560 كيلو </th>
                                <th style="cursor: default;">313 كيلو </th>
                                <th style="cursor: default;"> </th>
                                <th style="cursor: default;">246,050 ج.م </th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">إجمالي الأسعار حسب نوع الأضحية</h3>
                <div class="chart-container">
                    <canvas id="priceByTypeChart"></canvas>
                </div>
            </div>
        </section>

        <section id="sources" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title">مصادر اللحوم وكفاءة التحويل</h2>
                <p class="section-subtitle mx-auto mt-2">لكل أضحية قصة وقيمة. هنا نقارن بين كميات اللحوم الصافية التي أنتجتها كل أضحية، مما يبرز التنوع في المصادر وكفاءة العملية التي بلغت نسبة تحويل 39.9% من الوزن القائم.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                 <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">كمية اللحم الصافي من كل أضحية (كجم)</h3>
                <div class="chart-container">
                    <canvas id="meatSourceChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">مقارنة الوزن قبل الذبح باللحم الصافي (كجم)</h3>
                <div class="chart-container">
                    <canvas id="weightComparisonChart"></canvas>
                </div>
            </div>
        </section>

        <section id="distribution" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> أين وصلت لحوم الأضاحي؟</h2>
                <p class="section-subtitle mx-auto mt-2">تم تخصيص 421 كجم من اللحوم مم يعادل 402 كيس لحمه للتوزيع المباشر، وقد تم إيصالها بعناية فائقة لتصل إلى الفئات الأكثر استحقاقاً عبر طرق التوزيع المختلفة.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                 <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">توزيع اللحوم حسب طريقة التوزيع (كجم)</h3>
                <div class="chart-container">
                    <canvas id="distributionChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">رحلة التوزيع</h3>
                <p class="text-gray-600 text-center max-w-3xl mx-auto mb-4 sm:mb-6 text-sm sm:text-base">من إجمالي صافي اللحوم، يتم تقسيم الكميات لتلبية احتياجات التوزيع المختلفة. هذه الفئات تمثل الكميات الموزعة فعليًا للمستفيدين.</p>
                <div class="flex distribution-flow items-center justify-around text-center space-y-4 sm:space-y-0">
                    <div class="flex flex-col items-center">
                        <div class="bg-cyan-600 text-white p-4 sm:p-6 rounded-full w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 flex flex-col justify-center shadow-lg">
                            <span class="text-xl sm:text-2xl md:text-3xl font-bold">402</span>
                            <span class="font-semibold text-xs sm:text-sm md:text-base">عدد أكياس اللحم الموزعة</span>
                        </div>
                    </div>
                    <div class="flow-arrow transform md:-rotate-90">↓</div>
                    <div class="bg-white p-4 sm:p-6 rounded-xl border-2 border-dashed border-orange-500 w-full md:w-auto">
                        <h4 class="font-bold text-base sm:text-lg mb-2 text-orange-500">تفاصيل التوزيع </h4>
                        <ul class="text-right list-inside list-disc text-sm sm:text-base">
                            <li>حالات داخل المؤسسة: 203 كجم</li>
                            <li>حالات خارج المؤسسة: 10 كجم</li>
                            <li>قوافل: 157 كجم</li>
                            <li>موظفين: 13 كجم</li>
                            <li>مجنب: 19 كجم</li>
                        </ul>
                    </div>
                    <div class="flow-arrow transform md:-rotate-90">↓</div>
                    <div class="flex flex-col items-center">
                        <div class="bg-red-600 text-white p-4 sm:p-6 rounded-full w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 flex flex-col justify-center shadow-lg">
                            <span class="text-xl sm:text-2xl md:text-3xl font-bold">421</span>
                            <span class="font-semibold text-xs sm:text-sm md:text-base">كجم إجمالي لحوم التوزيع</span>
                        </div>
                    </div>
                </div>
                <div class="mt-4 sm:mt-6 text-center bg-blue-100 border-r-4 border-blue-500 text-blue-700 p-3 sm:p-4 rounded-lg text-sm sm:text-base">
                    <p class="font-bold">ملاحظة:
يبلغ عدد الأكياس الموزعة في هذا القسم (402 كيس لحم)، بينما صافي اللحوم يبلغ 421 كيلوجرام. هذا الفرق يرجع إلى أن الأكياس لا تحتوي جميعها على كيلوغرام كامل بدقة، فقد تختلف الأوزان بسبب زيادات أو نقص بسيط في الجرامات داخل كل كيس.
كما أن لحوم الصكوك تحتوي أيضًا على زيادات متفاوتة في الوزن، مما يفسر التفاوت بين عدد الأكياس وصافي الوزن الكلي.

</p>
                </div>
            </div>
        </section>

        <section id="in-kind" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> التبرعات العينية (اللحوم)</h2>
                <p class="section-subtitle mx-auto mt-2">قائمة باللحوم التي تم التبرع بها مباشرة لدعم الحملة.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg overflow-x-auto">
                <table class="min-w-full leading-normal">
                    <thead>
                        <tr>
                            <th>الجهة أو المتبرع</th>
                            <th>عدد الكيلوجرامات</th>
                            <th>النوع</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>بيت الذكاة</td><td>100 كجم</td><td>بقري</td></tr>
                        <tr><td>الأستاذ أحمد محمود</td><td>8 كجم</td><td>ضاني</td></tr>
                        <tr><td>لحوم صدقات تم التجميع عن طريق تيم مؤسسه بنساعد</td><td>8.5 كجم</td><td>بقري</td></tr>
                        <tr><td>تم تجميعها عن طريق الباشمهندس محمود</td><td>120 كجم</td><td>جموسي</td></tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th> 	</th>
                            <th>236.5 كيلو 	</th>
                            <th> 	</th>
                        </tr>
                    </tfoot>
                </table>
                <div class="mt-4 sm:mt-6 text-center bg-blue-100 border-r-4 border-blue-500 text-blue-700 p-3 sm:p-4 rounded-lg text-sm sm:text-base">
                    <p class="font-bold">ملاحظة:
تم إدخال كمية قدرها 128.5 كجم من اللحوم ضمن برنامج إطعام خلال أيام العشرة الأوائل من ذي الحجة، وقد تم استخدامها في تحضير وجبات، ولم تدخل ضمن كميات برنامج التوزيع.
وتتوزع هذه الكمية كالتالي:

120 كجم لحم جموسي تم تجميعها بواسطة المهندس محمود.

8.5 كجم لحم بقري تم تجميعها بواسطة فريق مؤسسة بنساعد.

</p>
                </div>
            </div>
        </section>
        
        <section id="donors" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> أصحاب الصكوك</h2>
                <p class="section-subtitle mx-auto mt-2">نقدم لكم قائمة بأسماء أصحاب الصكوك، سائلين الله أن يتقبل منهم ومنا صالح الأعمال وأن يجعلها في ميزان حسناتهم.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8">
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg transition-shadow hover:shadow-2xl donor-card">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center text-slate-800 border-b-2 border-cyan-600 pb-2">🐄 العجل 1 (بقري)</h3>
                    <ul class="space-y-2 sm:space-y-3 text-slate-600 text-sm sm:text-base">
                        <li class="flex justify-between"><span>العقيد/ محمد الخطيب</span><span class="font-bold text-cyan-700">32 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ أحمد أغضبان</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ صلاح صابر</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ مصطفى ماهر</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ هاني العزازي</span><span class="font-bold text-cyan-700">12 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ محمد منير</span><span class="font-bold text-cyan-700">8 كجم</span></li>
                    <li class="flex justify-between"><span>الاجمالي</span><span class="font-bold text-cyan-700">108 كجم</span></li>
                    </ul>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg transition-shadow hover:shadow-2xl donor-card">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center text-slate-800 border-b-2 border-cyan-600 pb-2">🐃 العجل 2 (جاموسي)</h3>
                    <ul class="space-y-2 sm:space-y-3 text-slate-600 text-sm sm:text-base">
                        <li class="flex justify-between"><span>م/ محمود الخطيب</span><span class="font-bold text-cyan-700">13.5 كجم</span></li>
                        <li class="flex justify-between"><span>م/ أحمد الخطيب</span><span class="font-bold text-cyan-700">10 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ آية حسين محمد</span><span class="font-bold text-cyan-700">9 كجم</span></li>
                        <li class="flex justify-between"><span>لواء/ عبد الفتاح</span><span class="font-bold text-cyan-700">9 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ خالد حنفي</span><span class="font-bold text-cyan-700"> متبرع بالصك كامل</span></li>
                        <li class="flex justify-between"><span>أ/ حمدي رفعت  </span><span class="font-bold text-cyan-700" >متبرع بالصك كامل  </span></li>
                   <li class="flex justify-between"><span>الاجمالي</span><span class="font-bold text-cyan-700">41.5 كجم</span></li>
                    </ul>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg transition-shadow hover:shadow-2xl donor-card">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center text-slate-800 border-b-2 border-cyan-600 pb-2">🐄 العجل 3 (بقري)</h3>
                    <ul class="space-y-2 sm:space-y-3 text-slate-600 text-sm sm:text-base">
                        <li class="flex justify-between"><span>أ/ محمد جمال</span><span class="font-bold text-cyan-700">60 كجم</span></li>
                        <li class="flex justify-between"><span>لواء/ أيمن أبو وردة</span><span class="font-bold text-cyan-700">26 كجم</span></li>
                        <li class="flex justify-between"><span>م/ عمادة</span><span class="font-bold text-cyan-700">20 كجم</span></li>
                   <li class="flex justify-between"><span>الاجمالي</span><span class="font-bold text-cyan-700">106 كجم</span></li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="expenses" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> تكاليف حملة الأضاحي</h2>
                <p class="section-subtitle mx-auto mt-2">تفاصيل المصروفات التي تم إنفاقها لتنفيذ الحملة.</p>
            </div>
            
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mb-6">
                <h3 class="font-bold text-lg mb-4 text-center">تفاصيل التكاليف</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h4 class="font-bold mb-2">1. تكاليف النقل:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>نقل العجل الأول والثاني من المنوفية للمجزر: 2,000 جنيه</li>
                            <li>نقل العجل رقم 3 من قرية سنديون للمجزر: 300 جنيه</li>
                            <li>نقل اللحوم من المجزر إلى مقر المؤسسة (4 مرات): 900 جنيه</li>
                            <li>انتقالات توزيع اللحوم (قرى شركس، أبو سنة، الأجينة): 280 جنيه</li>
                            <li class="font-bold">إجمالي النقل: 3,480 جنيه</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-2">2. تكاليف الذبح:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>ذبح العجل الأول والثاني: 6,000 جنيه</li>
                            <li>ذبح العجل الثالث (خاص باللواء أيمن أبو وردة): 3,000 جنيه</li>
                            <li>ذبح عدد 2 كبش: 1,000 جنيه</li>
                            <li class="font-bold">إجمالي الذبح: 10,000 جنيه</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-2">3. التعبئة والتغليف:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>مشتريات تعبئة وتغليف متنوعة: 1,330 جنيه</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-bold mb-2">4. مصروفات متنوعة:</h4>
                        <ul class="list-disc list-inside space-y-1">
                            <li>تكلفة وزن 3 عجول وخروف: 200 جنيه</li>
                            <li>انتقالات مشتريات حملة الأضاحي: 50 جنيه</li>
                            <li class="font-bold">الإجمالي للمتنوعات: 250 جنيه</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <h3 class="font-bold text-lg mb-4 text-center">ملخص إجمالي المصروفات حسب الفئات</h3>
                <table class="min-w-full">
                    <thead>
                        <tr>
                            <th class="text-right">الفئة</th>
                            <th class="text-left">المبلغ (جنيه)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>النقل</td><td>3,480</td></tr>
                        <tr><td>الذبح</td><td>10,000</td></tr>
                        <tr><td>التعبئة</td><td>1,330</td></tr>
                        <tr><td>متنوعات</td><td>250</td></tr>
                        <tr class="font-bold border-t-2">
                            <td>الإجمالي</td>
                            <td>15,060</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-4 bg-yellow-50 border-r-4 border-yellow-500 text-yellow-700 p-3 rounded-lg">
                <p class="font-bold">ملاحظة:</p>
                <p>إجمالي المنصرف يشمل تكلفة شراء الأضاحي (246,050 جنيه) + التكاليف التشغيلية (15,060 جنيه) = 261,110 جنيه</p>
            </div>
        </section>

        <section id="financial" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> الإحصائيات المالية</h2>
                <p class="section-subtitle mx-auto mt-2">تحليل شامل للواردات والمصروفات والفرق بينهما.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6 mb-6">
                <div class="stat-card bg-green-50 border-b-4 border-green-500">
                    <div class="text-2xl sm:text-3xl">💰</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-green-800 mt-1 sm:mt-2">255<span class="text-lg sm:text-xl">ألف</span></p>
                    <h3 class="text-green-600 text-sm sm:text-base mt-1">إجمالي الوارد (جنيه)</h3>
                </div>
                <div class="stat-card bg-red-50 border-b-4 border-red-500">
                    <div class="text-2xl sm:text-3xl">💸</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-red-800 mt-1 sm:mt-2">261.1<span class="text-lg sm:text-xl">ألف</span></p>
                    <h3 class="text-red-600 text-sm sm:text-base mt-1">إجمالي المنصرف (جنيه)</h3>
                </div>
                <div class="stat-card bg-blue-50 border-b-4 border-blue-500">
                    <div class="text-2xl sm:text-3xl">📈</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-blue-800 mt-1 sm:mt-2">-6.1<span class="text-lg sm:text-xl">ألف</span></p>
                    <h3 class="text-blue-600 text-sm sm:text-base mt-1">العجز المالي</h3>
                </div>
            </div>
            
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mb-6">
                <h3 class="font-bold text-lg mb-4 text-center">تفاصيل المنصرف</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <h4 class="font-bold mb-2">تكلفة الأضاحي:</h4>
                        <p class="text-2xl font-bold text-cyan-700">246,050 جنيه</p>
                        <p class="text-sm text-gray-600">تشكل 94.2% من إجمالي المنصرف</p>
                    </div>
                    <div>
                        <h4 class="font-bold mb-2">التكاليف التشغيلية:</h4>
                        <p class="text-2xl font-bold text-orange-600">15,060 جنيه</p>
                        <p class="text-sm text-gray-600">تشكل 5.8% من إجمالي المنصرف</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <h3 class="font-bold text-lg mb-4 text-center">تحليل النسبة المئوية للمنصرف</h3>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="financialAnalysisChart"></canvas>
                </div>
                 <div class="mt-4 text-center text-sm text-gray-600">
                    <p class="font-bold text-red-600">ملاحظة: يوجد عجز قدره 6,110 جنيه (الوارد 255,000 جنيه - المنصرف 261,110 جنيه)</p>
                </div>
            </div>
        </section>

        <section id="analysis" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title">تحليل شامل لتوزيع اللحوم</h2>
                <p class="section-subtitle mx-auto mt-2">نظرة تحليلية على كيفية تقسيم إجمالي اللحوم المتاحة (797 كجم) بين قنوات الاستفادة المختلفة.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 place-items-start">
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">إجمالي لحوم التوزيع</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-cyan-600 text-center mb-3 sm:mb-4">421 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تشكل هذه الكمية نسبة 52.8% من إجمالي صافي اللحوم.</p>
                    <p class="text-green-600 font-bold text-lg sm:text-xl text-center mt-3 sm:mt-4">✅ تم التوزيع بنجاح</p>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">إجمالي لحوم الصكوك</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-center mb-3 sm:mb-4" style="color: #EB6841;">247.5 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تشكل هذه الكمية نسبة 31.1% من إجمالي صافي اللحوم.</p>
                    <p class="text-green-600 font-bold text-lg sm:text-xl text-center mt-3 sm:mt-4">✅ تم التسليم بنجاح</p>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">اللحوم المخصصة للإطعام</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-purple-600 text-center mb-3 sm:mb-4">128.5 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تمثل هذه الكمية (16.1%) من إجمالي صافي اللحوم وهي تبرعات عينية تم استخدامها في برامج الإطعام.</p>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">فرق الوزن</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-red-600 text-center mb-3 sm:mb-4">19 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تمثل هذه الكمية نسبة 2.4% من إجمالي صافي اللحوم، وهو فرق ناتج عن عمليات التجهيز والتوزيع.</p>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">احصائيات بإجمالي صافي اللحوم (797 كجم)</h3>
                <div class="chart-container" style="height: 400px; width: 90%; margin: auto;">
                    <canvas id="totalMeatDistributionChart"></canvas>
                </div>
            </div>
             <div class="mt-4 sm:mt-6 text-center bg-cyan-50 border-r-4 border-cyan-500 text-cyan-800 p-3 sm:p-4 rounded-lg text-sm sm:text-base">
                <p class="font-bold">ملاحظة مالية: تم صرف فقط 5.8% من إجمالي المنصرف (15,060 جنيه من 261,110 جنيه) على التكاليف التشغيلية، بينما تم توجيه 94.2% من المصروفات مباشرة لشراء الأضاحي.</p>
            </div>
        </section>

    </main>
    
    <footer class="text-center py-8 bg-slate-800 text-slate-400 mt-12">
        <p>&copy; 2025 مؤسسة بنساعد للأعمال الخيرية. كل الحقوق محفوظة.</p>
        <p>تصميم وتطوير بواسطة فريق المؤسسة.</p>
   <p class="text-xs text-slate-500 mt-1">تحت اشراف المدير التنفيذي الاستاذ محمد ابراهيم</p>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    /**
     * Helper function to parse numbers from Arabic text (e.g., "71,900 ج.م" -> 71900)
     * @param {string} text The text to parse.
     * @returns {number} The parsed number.
     */
    function parseArabicNumber(text) {
        if (typeof text !== 'string') return 0;
        // Remove currency symbols, commas, and whitespace, then parse
        return parseFloat(text.replace(/[^0-9.]/g, '')) || 0;
    }

    // --- Chart.js Global Configuration ---
    Chart.defaults.font.family = "'Cairo', sans-serif";
    Chart.defaults.plugins.tooltip.rtl = true;
    Chart.defaults.plugins.legend.rtl = true;
    Chart.defaults.plugins.legend.position = 'bottom';


    // --- 1. Sacrifices Table Data Extraction ---
    const sacrificesTable = document.getElementById('sacrificesTable');
    const tableRows = sacrificesTable.querySelectorAll('tbody tr');
    const sacrificeData = Array.from(tableRows).map(row => {
        const cells = row.querySelectorAll('td');
        return {
            id: cells[0].textContent.trim(),
            type: cells[1].textContent.trim(),
            weightBefore: parseArabicNumber(cells[2].textContent),
            netMeat: parseArabicNumber(cells[3].textContent),
            distMeat: parseArabicNumber(cells[4].textContent),
            priceKg: parseArabicNumber(cells[5].textContent),
            totalPrice: parseArabicNumber(cells[6].textContent)
        };
    });

    // --- 2. Chart Implementations ---

    // Chart #1: Price By Type (Bar Chart)
    const priceByTypeCtx = document.getElementById('priceByTypeChart');
    if (priceByTypeCtx) {
        const priceData = sacrificeData.reduce((acc, s) => {
            acc[s.type] = (acc[s.type] || 0) + s.totalPrice;
            return acc;
        }, {});

        new Chart(priceByTypeCtx, {
            type: 'bar',
            data: {
                labels: Object.keys(priceData),
                datasets: [{
                    label: 'السعر الكلي (ج.م)',
                    data: Object.values(priceData),
                    backgroundColor: ['#0ea9b6', '#34d399', '#f97316'],
                    borderColor: ['#06b6d4', '#10b981', '#ea580c'],
                    borderWidth: 1,
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) { return value.toLocaleString('ar-EG') + ' ج.م'; }
                        }
                    }
                }
            }
        });
    }

    // Chart #2: Net Meat Source (Bar Chart)
    const meatSourceCtx = document.getElementById('meatSourceChart');
    if (meatSourceCtx) {
        new Chart(meatSourceCtx, {
            type: 'bar',
            data: {
                labels: sacrificeData.map(s => s.id),
                datasets: [{
                    label: 'صافي اللحم (كجم)',
                    data: sacrificeData.map(s => s.netMeat),
                    backgroundColor: ['#0ea9b6', '#0891b2', '#0e7490', '#f97316', '#ea580c'],
                    borderRadius: 5
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                indexAxis: 'y', // Horizontal bar chart
            }
        });
    }
    
    // Chart #3: Weight Comparison (Grouped Bar Chart)
    const weightComparisonCtx = document.getElementById('weightComparisonChart');
    if (weightComparisonCtx) {
        new Chart(weightComparisonCtx, {
            type: 'bar',
            data: {
                labels: sacrificeData.map(s => s.id),
                datasets: [{
                    label: 'الوزن قبل الذبح (كجم)',
                    data: sacrificeData.map(s => s.weightBefore),
                    backgroundColor: '#0891b2',
                    borderRadius: 5
                }, {
                    label: 'صافي اللحم (كجم)',
                    data: sacrificeData.map(s => s.netMeat),
                    backgroundColor: '#34d399',
                    borderRadius: 5
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });
    }

    // Chart #4: Distribution Channels (Doughnut Chart)
    const distributionCtx = document.getElementById('distributionChart');
    if (distributionCtx) {
        new Chart(distributionCtx, {
            type: 'doughnut',
            data: {
                labels: ['حالات داخل المؤسسة', 'قوافل', 'مجنب ', 'موظفين', 'حالات خارج المؤسسة'],
                datasets: [{
                    label: 'توزيع اللحوم (كجم)',
                    data: [203, 157, 19, 13, 10],
                    backgroundColor: ['#0ea9b6', '#0e7490', '#ef4444', '#8b5cf6', '#f97316'],
                    hoverOffset: 4
                }]
            },
            options: { responsive: true, maintainAspectRatio: false }
        });
    }

    // Chart #5: Financial Analysis (Pie Chart)
    const financialAnalysisCtx = document.getElementById('financialAnalysisChart');
    if (financialAnalysisCtx) {
        const totalCost = 246050;
        const operationalCost = 15060;
        new Chart(financialAnalysisCtx, {
            type: 'pie',
            data: {
                labels: ['تكلفة الأضاحي', 'تكاليف تشغيلية'],
                datasets: [{
                    data: [totalCost, operationalCost],
                    backgroundColor: ['#0ea9b6', '#f97316'],
                    hoverOffset: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed !== null) {
                                    label += context.parsed.toLocaleString('ar-EG') + ' ج.م';
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });
    }

    // Chart #6: Total Meat Distribution (Doughnut Chart)
    const totalMeatDistributionCtx = document.getElementById('totalMeatDistributionChart');
    if (totalMeatDistributionCtx) {
        const data = {
            labels: ['توزيع مباشر', 'صكوك', 'إطعام', 'فرق وزن'],
            values: [421, 247.5, 128.5, 19],
            colors: ['#0ea9b6', '#EB6841', '#8b5cf6', '#ef4444']
        };
        
        new Chart(totalMeatDistributionCtx, {
            type: 'doughnut',
            data: {
                labels: data.labels,
                datasets: [{
                    label: 'إجمالي توزيع اللحوم (كجم)',
                    data: data.values,
                    backgroundColor: data.colors,
                    borderColor: '#fff',
                    borderWidth: 2,
                    hoverOffset: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                     legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                let label = context.label || '';
                                const total = 797 + 19; // Manually set the correct total for percentage calculation
                                const value = context.parsed;
                                const percentage = ((value / total) * 100).toFixed(1);
                                if (label) {
                                    label += ': ';
                                }
                                if (value !== null) {
                                    label += `${value} كجم (${percentage}%)`;
                                }
                                return label;
                            }
                        }
                    }
                }
            }
        });
    }

    // --- 3. Table Sorting and Filtering ---

    // Filtering
    const searchInput = document.getElementById('sacrificeSearch');
    searchInput.addEventListener('keyup', function() {
        const filter = searchInput.value.toLowerCase();
        tableRows.forEach(row => {
            const typeCell = row.cells[1];
            if (typeCell) {
                const textValue = typeCell.textContent || typeCell.innerText;
                if (textValue.toLowerCase().indexOf(filter) > -1) {
                    row.style.display = "";
                } else {
                    row.style.display = "none";
                }
            }
        });
    });

    // Sorting
    const headers = sacrificesTable.querySelectorAll('thead th[data-column]');
    let sortDirections = Array(headers.length).fill(null); 

    headers.forEach((header, index) => {
        header.addEventListener('click', () => {
            const column = parseInt(header.dataset.column);
            const isAsc = sortDirections[column] === 'asc';
            const direction = isAsc ? 'desc' : 'asc';
            
            // Reset other headers
            headers.forEach(h => h.classList.remove('asc', 'desc'));
            sortDirections.fill(null);

            // Set current header
            header.classList.add(direction);
            sortDirections[column] = direction;

            sortTable(column, direction);
        });
    });
    
    function sortTable(column, direction) {
        const tbody = sacrificesTable.querySelector('tbody');
        const rows = Array.from(tbody.querySelectorAll('tr'));
        const isAsc = direction === 'asc';

        const sortedRows = rows.sort((a, b) => {
            let aVal = a.cells[column].textContent.trim();
            let bVal = b.cells[column].textContent.trim();
            
            // Check if values are numeric after cleaning
            const aNum = parseArabicNumber(aVal);
            const bNum = parseArabicNumber(bVal);

            if (!isNaN(aNum) && !isNaN(bNum) && (aNum !== 0 || bNum !== 0) && aVal.includes('كجم') || aVal.includes('ج.م')) {
                 return isAsc ? aNum - bNum : bNum - aNum;
            } else {
                // Fallback to string comparison
                return isAsc ? aVal.localeCompare(bVal, 'ar') : bVal.localeCompare(aVal, 'ar');
            }
        });
        
        // Re-append sorted rows
        while (tbody.firstChild) {
            tbody.removeChild(tbody.firstChild);
        }
        tbody.append(...sortedRows);
    }
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });
});
</script>

</body>
</html>
