<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> تقرير شامل لحملة الأضاحي 2025م</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 300px;
        }
        @media (min-width: 640px) {
            .chart-container {
                height: 350px;
            }
        }
        @media (min-width: 1024px) {
            .chart-container {
                height: 400px;
            }
        }
        .main-header {
            background: linear-gradient(135deg, #0ea9b6 0%, #0891b2 100%);
        }
        .section-title {
            font-size: 1.5rem;
            font-weight: 900;
            color: #1e293b;
        }
        @media (min-width: 768px) {
            .section-title {
                font-size: 2.25rem;
            }
        }
        .section-subtitle {
            font-size: 1rem;
            color: #475569;
            max-width: 700px;
        }
        @media (min-width: 768px) {
            .section-subtitle {
                font-size: 1.125rem;
            }
        }
        .stat-card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border-bottom: 4px solid #0ea9b6;
        }
        @media (min-width: 640px) {
            .stat-card {
                padding: 1.5rem;
            }
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -2px rgb(0 0 0 / 0.1);
        }
        .nav-button {
            background-color: rgba(255, 255, 255, 0.2);
            transition: background-color 0.3s;
            font-size: 0.75rem;
            padding: 0.5rem 0.75rem;
        }
        @media (min-width: 640px) {
            .nav-button {
                font-size: 0.875rem;
                padding: 0.5rem 1rem;
            }
        }
        .nav-button:hover {
            background-color: rgba(255, 255, 255, 0.4);
        }
        .flow-arrow {
            font-size: 1.5rem;
            line-height: 1;
            color: #EB6841;
        }
        @media (min-width: 768px) {
            .flow-arrow {
                font-size: 2.5rem;
            }
        }
        th, td {
            padding: 0.5rem;
            text-align: right;
            border-bottom: 1px solid #edf2f7;
            color: #2D3748;
            font-size: 0.75rem;
        }
        @media (min-width: 640px) {
            th, td {
                font-size: 0.875rem;
            }
        }
        th {
            border-bottom: 2px solid #e2e8f0;
            font-weight: 600;
            color: #4A5568;
            background-color: #F8F9FA;
            white-space: nowrap;
        }
        @media (min-width: 640px) {
            th, td {
                padding: 0.75rem;
            }
        }
        @media (min-width: 768px) {
            th, td {
                padding: 0.75rem 1rem;
                font-size: 1rem;
            }
        }
        tr:hover {
            background-color: #f7fafc;
        }
        .asc::after {
            content: " ↑";
        }
        .desc::after {
            content: " ↓";
        }
        .logo-container {
            margin-top: 1rem;
            margin-bottom: 1rem;
        }
        @media (min-width: 768px) {
            .logo-container {
                margin-top: 2.5rem;
                margin-bottom: 1.5rem;
            }
        }
        .header-title {
            font-size: 1.75rem;
            line-height: 2.25rem;
        }
        @media (min-width: 768px) {
            .header-title {
                font-size: 3rem;
                line-height: 1;
            }
        }
        .header-subtitle {
            font-size: 1rem;
            padding: 0 1rem;
        }
        @media (min-width: 768px) {
            .header-subtitle {
                font-size: 1.25rem;
                padding: 0;
            }
        }
        .donor-card {
            margin-bottom: 1rem;
        }
        @media (min-width: 768px) {
            .donor-card {
                margin-bottom: 0;
            }
        }
        .distribution-flow {
            flex-direction: column;
            margin-bottom: 1rem;
        }
        @media (min-width: 768px) {
            .distribution-flow {
                flex-direction: row;
                margin-bottom: 0;
            }
        }
    </style>
</head>
<body class="antialiased">

    <nav class="bg-cyan-700/80 backdrop-blur-sm sticky top-0 z-50 shadow-md">
        <div class="container mx-auto px-2 sm:px-4 py-2">
            <div class="flex items-center justify-center flex-wrap gap-2 sm:gap-4">
                <a href="#summary" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">الملخص</a>
                <a href="#sacrifices" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">الأضاحي</a>
                <a href="#distribution" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">التوزيع</a>
                <a href="#sources" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">المصادر</a>
                <a href="#donors" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">الصكوك</a>
                <a href="#analysis" class="nav-button text-white font-bold py-2 px-3 rounded-full text-xs sm:text-sm">التحليل</a>
            </div>
        </div>
    </nav>

    <div class="Bensaed" style="display: flex; justify-content: center; align-items: center; margin-top: 10px;">
  <img src="Bensaed.png" alt="مؤسسة بنساعد" style="width: 300px; max-width: 90%;"> 
</div>
<div class="container mx-auto px-4">
            
        </div>
    <header class="main-header text-white pt-8 pb-12 sm:pt-12 sm:pb-16 text-center">
        <div class="container mx-auto px-4">
            <h1 class="header-title font-black drop-shadow-lg">تقرير  حملة الأضاحي المبارك 2025</h1>
            <p class="mt-2 sm:mt-4 header-subtitle mx-auto drop-shadow-md">تقرير مفصل لحملة الاضاحي لسنه 2025 من مؤسسه بنساعد للاعمال الخيريه</p>
        </div>
    </header>

    <main class="container mx-auto px-3 sm:px-4 md:px-6 -mt-6 sm:-mt-10">

        <section id="summary" class="mb-12 sm:mb-16">
            <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 md:gap-6">
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">🐑</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">6</p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">أضاحي منفذة</h3>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">⚖️</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">580<span class="text-xl sm:text-2xl">كجم</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">إجمالي صافي اللحم</h3>
                </div>
                <div class="stat-card">
                    <div class="text-2xl sm:text-3xl">💰</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">258.5<span class="text-lg sm:text-xl">ألف</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">القيمة الإجمالية (جنيه)</h3>
                </div>
                <div class="stat-card">
                   <div class="text-2xl sm:text-3xl">🎯</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">100%</p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة تسليم الصكوك</h3>
                </div>
                <div class="stat-card sm:col-span-2 lg:col-span-1">
                    <div class="text-2xl sm:text-3xl">📊</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">39.9<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة التحويل للحم</h3>
                </div>
                <div class="stat-card sm:col-span-2 lg:col-span-1">
                    <div class="text-2xl sm:text-3xl">📦</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">97.9<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة التوزيع الفعلي</h3>
                </div>
                <div class="stat-card sm:col-span-2 lg:col-span-1">
                    <div class="text-2xl sm:text-3xl">♻️</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">2.1<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة الهدر</h3>
                </div>
                <div class="stat-card sm:col-span-2 lg:col-span-1">
                    <div class="text-2xl sm:text-3xl">📝</div>
                    <p class="text-2xl sm:text-3xl md:text-4xl font-black text-slate-800 mt-1 sm:mt-2">45.7<span class="text-lg sm:text-xl">%</span></p>
                    <h3 class="text-slate-500 text-sm sm:text-base mt-1">نسبة الصكوك من اللحوم</h3>
                </div>
            </div>
        </section>

        <section id="sacrifices" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title">جدول تفصيلي للأضاحي</h2>
                <p class="section-subtitle mx-auto mt-2">يعرض هذا الجدول تفاصيل كل أضحية مع إمكانية الفرز حسب العمود، ويتبعه رسم بياني يوضح القيمة الإجمالية لكل نوع.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg overflow-x-auto">
                <input type="text" id="sacrificeSearch" placeholder="ابحث حسب نوع الأضحية..." class="p-2 border border-gray-300 rounded-md w-full mb-4 text-sm">
                <div class="overflow-x-auto">
                    <table class="min-w-full leading-normal" id="sacrificesTable">
                        <thead>
                            <tr>
                                <th data-column="0">رقم</th>
                                <th data-column="1">نوع الأضحية</th>
                                <th data-column="2">الوزن قبل الذبح</th>
                                <th data-column="3">صافي اللحم</th>
                                <th data-column="4">سعر الكيلو</th>
                                <th data-column="5">السعر الكلي</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>اضحية رقم (1)</td><td>بقري</td><td>405 كجم</td><td>147 كجم</td><td>177.5 ج.م</td><td>71,887.5 ج.م</td></tr>
                            <tr><td>اضحية رقم (2)</td><td>جموسي</td><td>460 كجم</td><td>190 كجم</td><td>154.0 ج.م</td><td>70,840.0 ج.م</td></tr>
                            <tr><td>اضحية رقم (3)</td><td>بقري</td><td>410 كجم</td><td>160 كجم</td><td>185.0 ج.م</td><td>75,850.0 ج.م</td></tr>
                            <tr><td>اضحية رقم (4)</td><td>ضاني</td><td>55 كجم</td><td>24 كجم</td><td>230.0 ج.م</td><td>12,650.0 ج.م</td></tr>
                            <tr><td>اضحية رقم (5)</td><td>ضاني</td><td>59 كجم</td><td>28 كجم</td><td>222.0 ج.م</td><td>13,098.0 ج.m</td></tr>
                            <tr><td>اضحية رقم (6)</td><td>ضاني</td><td>64 كجم</td><td>31 كجم</td><td>222.0 ج.م</td><td>14,208.0 ج.م</td></tr>
                        </tbody>
                        <thead>
                            <tr>
                                <th >6</th>
                                <th >  </th>
                                <th > 1453 كيلو</th>
                                <th >580 كيلو </th>
                                <th > </th>
                                <th >258,533.5 ج.م </th>
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">إجمالي الأسعار حسب نوع الأضحية</h3>
                <div class="chart-container">
                    <canvas id="priceByTypeChart"></canvas>
                </div>
            </div>
        </section>

        <section id="sources" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title">مصادر اللحوم وكفاءة التحويل</h2>
                <p class="section-subtitle mx-auto mt-2">لكل أضحية قصة وقيمة. هنا نقارن بين كميات اللحوم الصافية التي أنتجتها كل أضحية، مما يبرز التنوع في المصادر وكفاءة العملية التي بلغت نسبة تحويل 39.9% من الوزن القائم.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <div class="chart-container">
                    <canvas id="meatSourceChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">مقارنة الوزن قبل الذبح باللحم الصافي</h3>
                <div class="chart-container">
                    <canvas id="weightComparisonChart"></canvas>
                </div>
            </div>
        </section>

        <section id="distribution" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> أين وصلت لحوم الأضاحي؟</h2>
                <p class="section-subtitle mx-auto mt-2">تم توزيع 303 كجم من اللحوم بعناية فائقة لتصل إلى الفئات الأكثر استحقاقاً. يوضح الرسم البياني أن الجزء الأكبر من التوزيع تم توجيهه عبر القوافل الخارجية لضمان الوصول إلى أبعد المناطق.</p>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
                <div class="chart-container">
                    <canvas id="distributionChart"></canvas>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">رحلة التوزيع</h3>
                <p class="text-gray-600 text-center max-w-3xl mx-auto mb-4 sm:mb-6 text-sm sm:text-base">من إجمالي صافي اللحوم، يتم تقسيم الكميات لتلبية احتياجات التوزيع المختلفة. هذه الفئات تمثل الكميات الموزعة فعليًا للمستفيدين.</p>
                <div class="flex distribution-flow items-center justify-around text-center space-y-4 sm:space-y-0">
                    <div class="flex flex-col items-center">
                        <div class="bg-cyan-600 text-white p-4 sm:p-6 rounded-full w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 flex flex-col justify-center shadow-lg">
                            <span class="text-xl sm:text-2xl md:text-3xl font-bold">580</span>
                            <span class="font-semibold text-xs sm:text-sm md:text-base">كجم صافي اللحوم</span>
                        </div>
                    </div>
                    <div class="flow-arrow transform md:-rotate-90">↓</div>
                    <div class="bg-white p-4 sm:p-6 rounded-xl border-2 border-dashed border-orange-500 w-full md:w-auto">
                        <h4 class="font-bold text-base sm:text-lg mb-2 text-orange-500">تفاصيل التوزيع (303 كجم)</h4>
                        <ul class="text-right list-inside list-disc text-sm sm:text-base">
                            <li>حالات داخل المؤسسة: 97 كجم</li>
                            <li>حالات خارج المؤسسة: 10 كجم</li>
                            <li>قوافل: 157 كجم</li>
                            <li>موظفين: 14 كجم</li>
                            <li>مجنب: 25 كجم</li>
                        </ul>
                    </div>
                    <div class="flow-arrow transform md:-rotate-90">↓</div>
                    <div class="flex flex-col items-center">
                        <div class="bg-red-600 text-white p-4 sm:p-6 rounded-full w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 flex flex-col justify-center shadow-lg">
                            <span class="text-xl sm:text-2xl md:text-3xl font-bold">303</span>
                            <span class="font-semibold text-xs sm:text-sm md:text-base">كجم موزع للفئات</span>
                        </div>
                    </div>
                </div>
                <div class="mt-4 sm:mt-6 text-center bg-blue-100 border-r-4 border-blue-500 text-blue-700 p-3 sm:p-4 rounded-lg text-sm sm:text-base">
                    <p class="font-bold">ملاحظة: الكميات الموزعة في هذا القسم (303 كجم) تمثل توزيع اللحوم حسب الفئات المذكورة. مجموع الكميات الموزعة ولحوم الصكوك والهدر (303 + 265 + 12 = 580 كجم) يتطابق الآن مع إجمالي صافي اللحوم.</p>
                </div>
            </div>
        </section>

        <section id="analysis" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title">تحليل شامل للتوزيع</h2>
                <p class="section-subtitle mx-auto mt-2">نظرة تحليلية على كيفية تقسيم إجمالي صافي اللحوم بين التوزيع المباشر، الصكوك، والهدر.</p>
            </div>
            <div class="grid grid-cols-1 gap-4 sm:gap-6 place-items-center">
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">إجمالي لحوم التوزيع</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-cyan-600 text-center mb-3 sm:mb-4">303 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تم تخصيص هذه الكمية من إجمالي اللحوم الصافية للتوزيع. تشكل هذه الكمية نسبة 54.3% من إجمالي صافي اللحوم.</p>
                    <p class="text-green-600 font-bold text-lg sm:text-xl text-center mt-3 sm:mt-4">✅ تم التوزيع بنجاح</p>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center" >إجمالي لحوم الصكوك</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-cyan-600 text-center mb-3 sm:mb-4"style="color: #EB6841;">265 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تم تخصيص هذه الكمية من إجمالي اللحوم الصافية للصكوك. تشكل هذه الكمية نسبة 45.7% من إجمالي صافي اللحوم.</p>
                    <p class="text-green-600 font-bold text-lg sm:text-xl text-center mt-3 sm:mt-4">✅ تم التسليم بنجاح</p>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg w-full">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">كمية الهدر ونسبتها</h3>
                    <p class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-red-600 text-center mb-3 sm:mb-4">12 <span class="text-xl sm:text-2xl md:text-3xl">كجم</span></p>
                    <p class="text-gray-600 text-center text-sm sm:text-base">تمثل هذه النسبة (2.1%) من صافي اللحوم ناتجًا طبيعيًا لعمليات التوزيع، ولا تُعد هدرًا فعليًا. فغالبًا ما تنتج عن زيادات بسيطة في أوزان الأكياس المُخصصة للتوزيع أو الفروقات الطفيفة في كميات اللحوم المُقدمة ضمن الصكوك، ما يُعد من الأمور الشائعة في مثل هذه العمليات.</p>
                </div>
            </div>
            <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg mt-4 sm:mt-6">
                <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center">توزيع إجمالي صافي اللحوم</h3>
                <div style="display: flex; justify-content: center; align-items: center; height: 400px;">
    <canvas id="totalMeatDistributionChart" width="300" height="300"></canvas>
</div>

            </div>
        </section>

        <section id="donors" class="py-6 sm:py-8">
            <div class="text-center mb-6 sm:mb-10">
                <h2 class="section-title"> أصحاب الصكوك</h2>
                <p class="section-subtitle mx-auto mt-2">نقدم لكم قائمة بأصحاب الصكوك التي تم توزيعها، سائلين الله أن يتقبل من الجميع ويجعلها في ميزان حسناتكم.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8">
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg transition-shadow hover:shadow-2xl donor-card">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center text-slate-800 border-b-2 border-cyan-600 pb-2">🐄 العجل 1 (بقري)</h3>
                    <ul class="space-y-2 sm:space-y-3 text-slate-600 text-sm sm:text-base">
                        <li class="flex justify-between"><span>العقيد/ محمد الخطيب</span><span class="font-bold text-cyan-700">32 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ أحمد أغضبان</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ صلاح صابر</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ مصطفى ماهر</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ هاني العزازي</span><span class="font-bold text-cyan-700">12 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ محمد منير</span><span class="font-bold text-cyan-700">8 كجم</span></li>
                    </ul>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg transition-shadow hover:shadow-2xl donor-card">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center text-slate-800 border-b-2 border-cyan-600 pb-2">🐃 العجل 2 (جاموسي)</h3>
                    <ul class="space-y-2 sm:space-y-3 text-slate-600 text-sm sm:text-base">
                        <li class="flex justify-between"><span>م/ محمود الخطيب</span><span class="font-bold text-cyan-700">13.5 كجم</span></li>
                        <li class="flex justify-between"><span>م/ أحمد الخطيب</span><span class="font-bold text-cyan-700">12 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ آية حسين محمد</span><span class="font-bold text-cyan-700">9 كجم</span></li>
                        <li class="flex justify-between"><span>لواء/ عبد الفتاح</span><span class="font-bold text-cyan-700">9 كجم</span></li>
                        <li class="flex justify-between"><span>أ/ خالد حنفي</span><span class="font-bold text-cyan-700"> متبرع بالصك كامل</span></li>
                        <li class="flex justify-between"><span>أ/ حمدي رفعت  </span><span class="font-bold text-cyan-700" >متبرع بالصك كامل  </span></li>
                    </ul>
                </div>
                <div class="bg-white p-4 sm:p-6 rounded-xl shadow-lg transition-shadow hover:shadow-2xl donor-card">
                    <h3 class="font-bold text-lg sm:text-xl mb-3 sm:mb-4 text-center text-slate-800 border-b-2 border-cyan-600 pb-2">🐄 العجل 3 (بقري)</h3>
                    <ul class="space-y-2 sm:space-y-3 text-slate-600 text-sm sm:text-base">
                        <li class="flex justify-between"><span>أ/ محمد جمال</span><span class="font-bold text-cyan-700">60 كجم</span></li>
                        <li class="flex justify-between"><span>لواء/ أيمن أبو وردة</span><span class="font-bold text-cyan-700">25 كجم</span></li>
                        <li class="flex justify-between"><span>م/ عمادة</span><span class="font-bold text-cyan-700">20 كجم</span></li>
                        <li class="font-bold text-center mt-3 sm:mt-4 pt-3 sm:pt-4 border-t">🐏 أصحاب صكوك الضأن</li>
                        <li class="flex justify-between"><span>أ/ أحمد محمود</span><span class="font-bold text-cyan-700">16 كجم</span></li>
                                </ul>
                </div>
            </div>
        </section>

    </main>
    
    <footer class="bg-slate-800 text-white text-center py-6 sm:py-8 mt-8 sm:mt-12">
        <p class="text-base sm:text-lg">تقبل الله منا ومنكم صالح الأعمال وجعلها في ميزان حسناتكم.</p>
        <p class="text-xs sm:text-sm text-slate-400 mt-1 sm:mt-2">تقرير أضاحي  2025م - تحت تنفيذ تيم مؤسسة بنساعد</p>
        <p class="text-xs text-slate-500 mt-1">تحت اشراف المدير التنفيذي الاستاذ محمد ابراهيم</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Chart configuration and initialization
            const chartTooltipConfig = {
                plugins: {
                    tooltip: {
                        callbacks: {
                            title: function(tooltipItems) {
                                const item = tooltipItems[0];
                                let label = item.chart.data.labels[item.dataIndex];
                                return Array.isArray(label) ? label.join(' ') : label;
                            }
                        },
                        bodyFont: { family: 'Cairo', weight: 'bold' },
                        titleFont: { family: 'Cairo' },
                        rtl: true,
                        boxPadding: 8,
                    },
                    legend: {
                        labels: {
                            font: { family: 'Cairo', size: 14 }
                        }
                    }
                }
            };
            
            // Function to wrap long labels for better display
            function wrapLabel(label, maxWidth) {
                if (label.length <= maxWidth) return label;
                const words = label.split(' ');
                const lines = [];
                let currentLine = '';
                words.forEach(word => {
                    const testLine = currentLine.length > 0 ? currentLine + ' ' + word : word;
                    if (testLine.length > maxWidth) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine = testLine;
                    }
                });
                lines.push(currentLine);
                return lines;
            }

            // Initialize Distribution Chart (Doughnut)
            function initDistributionChart() {
                const ctx = document.getElementById('distributionChart').getContext('2d');
                const originalLabels = ['القوافل الخارجية', 'حالات للمؤسسة', 'مجنب', 'موظفين ', 'حالات خارجية'];
                const processedLabels = originalLabels.map(label => wrapLabel(label, 16));
                
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: processedLabels,
                        datasets: [{
                            label: 'نسبة التوزيع',
                            data: [52, 32, 8, 5, 3],
                            backgroundColor: ['#0ea9b6', '#0891b2', '#0e7490', '#155e75', '#64748b'],
                            borderColor: '#ffffff',
                            borderWidth: 4,
                            hoverOffset: 15
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        ...chartTooltipConfig
                    }
                });
            }

            // Initialize Meat Source Chart (Bar)
            function initMeatSourceChart() {
                const ctx = document.getElementById('meatSourceChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['العجل 2 (جاموسي)', 'العجل 3 (بقري)', 'العجل 1 (بقري)', 'ضأن 3', 'ضأن 2', 'ضأن 1'],
                        datasets: [{
                            label: 'صافي اللحم (كجم)',
                            data: [190, 160, 147, 31, 28, 24],
                            backgroundColor: 'rgba(14, 169, 182, 0.7)',
                            borderColor: '#0ea9b6',
                            borderWidth: 2,
                            borderRadius: 6,
                            hoverBackgroundColor: 'rgba(14, 169, 182, 1)',
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: { ticks: { font: { family: 'Cairo' } } },
                            x: { 
                                ticks: { font: { family: 'Cairo' } },
                                title: { display: true, text: 'الوزن بالكيلوجرام', font: { family: 'Cairo', size: 14 } }
                            }
                        },
                        ...chartTooltipConfig
                    }
                });
            }

            // Initialize Price by Type Chart (Bar)
            function initPriceByTypeChart() {
                const ctx = document.getElementById('priceByTypeChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['بقري', 'جموسي', 'ضأن'],
                        datasets: [{
                            label: 'السعر الكلي (ج.م)',
                            data: [147737.5, 70840.0, 39956.0],
                            backgroundColor: ['#00A0B0', '#EB6841', '#EDC951'],
                            borderColor: ['#00A0B0', '#EB6841', '#EDC951'].map(c => c + 'B3'),
                            borderWidth: 1
                        }]
                    },
                    options: {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: { font: { family: 'Cairo' } }
                            },
                            x: {
                                beginAtZero: true,
                                ticks: { font: { family: 'Cairo' } }
                            }
                        },
                        ...chartTooltipConfig
                    }
                });
            }

            // Initialize Weight Comparison Chart (Bar)
            function initWeightComparisonChart() {
                const ctx = document.getElementById('weightComparisonChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['بقري', 'جموسي', 'ضأن'],
                        datasets: [
                            {
                                label: 'الوزن قبل الدبح (كجم)',
                                data: [815, 460, 178],
                                backgroundColor: '#6A4A3C',
                                borderColor: '#6A4A3C',
                                borderWidth: 1
                            },
                            {
                                label: 'اللحم الصافي (كجم)',
                                data: [307, 190, 83],
                                backgroundColor: '#00A0B0',
                                borderColor: '#00A0B0',
                                borderWidth: 1
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: { beginAtZero: true, ticks: { font: { family: 'Cairo' } } },
                            x: { beginAtZero: true, ticks: { font: { family: 'Cairo' } } }
                        },
                        ...chartTooltipConfig
                    }
                });
            }

            // Initialize Total Meat Distribution Chart (Pie)
            function initTotalMeatDistributionChart() {
                const ctx = document.getElementById('totalMeatDistributionChart').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: ['لحوم موزعة (فئات)', 'لحوم الصكوك', 'هدر'],
                        datasets: [{
                            label: 'إجمالي صافي اللحوم (كجم)',
                            data: [303, 265, 12],
                            backgroundColor: ['#00A0B0', '#EB6841', '#CC333F'],
                            hoverOffset: 4
                        }]
                    },
                    options: chartTooltipConfig
                });
            }

            // Table sorting functionality
            const table = document.getElementById('sacrificesTable');
            const headers = table.querySelectorAll('th');
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            let sortDirection = {};

            headers.forEach(header => {
                header.addEventListener('click', () => {
                    const column = header.dataset.column;
                    const isAscending = sortDirection[column] === 'asc';
                    const multiplier = isAscending ? 1 : -1;

                    const sortedRows = rows.sort((a, b) => {
                        const aText = a.children[column].textContent.trim();
                        const bText = b.children[column].textContent.trim();

                        if (column === '0' || column === '2' || column === '3' || column === '4' || column === '5') {
                            const aVal = parseFloat(aText.replace(/[^\d.]/g, ''));
                            const bVal = parseFloat(bText.replace(/[^\d.]/g, ''));
                            return multiplier * (aVal - bVal);
                        } else {
                            return multiplier * aText.localeCompare(bText, 'ar', { sensitivity: 'base' });
                        }
                    });

                    headers.forEach(h => h.classList.remove('asc', 'desc'));
                    tbody.innerHTML = '';
                    sortedRows.forEach(row => tbody.appendChild(row));
                    sortDirection[column] = isAscending ? 'desc' : 'asc';
                    header.classList.add(sortDirection[column]);
                });
            });

            // Search functionality for the sacrifices table
            const searchInput = document.getElementById('sacrificeSearch');
            searchInput.addEventListener('keyup', (e) => {
                const searchText = e.target.value.toLowerCase();
                tbody.innerHTML = '';
                rows.forEach(row => {
                    const rowText = row.textContent.toLowerCase();
                    if (rowText.includes(searchText)) {
                        tbody.appendChild(row);
                    }
                });
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Initialize all charts
            initDistributionChart();
            initMeatSourceChart();
            initPriceByTypeChart();
            initWeightComparisonChart();
            initTotalMeatDistributionChart();
        });
    </script>
</body>
</html>
